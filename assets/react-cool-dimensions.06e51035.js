import{r as e}from"./react.49c1050d.js";function r(){return(r=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var t=function(r){var t=e.exports.useRef(r);return t.current=r,t},n=function(n){var o=void 0===n?{}:n,i=o.useBorderBoxSize,s=o.breakpoints,u=o.updateOnBreakpointChange,c=o.shouldUpdate,a=o.onResize,p=o.polyfill,l=e.exports.useState({currentBreakpoint:"",width:0,height:0}),f=l[0],h=l[1],b=e.exports.useRef({}),d=e.exports.useRef(),v=e.exports.useRef(),w=e.exports.useRef(!1),x=e.exports.useRef(),k=t(a),y=t(c),m=e.exports.useCallback((function(){v.current&&v.current.disconnect()}),[]),z=e.exports.useCallback((function(e){e&&e!==x.current&&(m(),x.current=e),v.current&&x.current&&v.current.observe(x.current)}),[m]);return e.exports.useEffect((function(){if(!("ResizeObserver"in window&&"ResizeObserverEntry"in window||p))return console.error("ðŸ’¡ react-cool-dimensions: the browser doesn't support Resize Observer, please use polyfill: https://github.com/wellyshen/react-cool-dimensions#resizeobserver-polyfill"),function(){return null};var e=null;return v.current=new(p||ResizeObserver)((function(r){var t=r[0];e=requestAnimationFrame((function(){var e=t.contentBoxSize,r=t.borderBoxSize,n=t.contentRect,o=e;i&&(r?o=r:w.current||(console.warn("ðŸ’¡ react-cool-dimensions: the browser doesn't support border-box size, fallback to content-box size. Please see: https://github.com/wellyshen/react-cool-dimensions#border-box-size-measurement"),w.current=!0));var c=(o=Array.isArray(o)?o[0]:o)?o.inlineSize:n.width,a=o?o.blockSize:n.height;if(c!==b.current.width||a!==b.current.height){b.current={width:c,height:a};var p,l,f,v,x={currentBreakpoint:"",width:c,height:a,entry:t,observe:z,unobserve:m};s?(x.currentBreakpoint=(p=s,l=c,f="",v=-1,Object.keys(p).forEach((function(e){var r=p[e];l>=r&&r>v&&(f=e,v=r)})),f),x.currentBreakpoint!==d.current&&(k.current&&k.current(x),d.current=x.currentBreakpoint)):k.current&&k.current(x);var B={currentBreakpoint:x.currentBreakpoint,width:c,height:a,entry:t};y.current&&!y.current(B)||(!y.current&&s&&u?h((function(e){return e.currentBreakpoint!==B.currentBreakpoint?B:e})):h(B))}}))})),z(),function(){m(),e&&cancelAnimationFrame(e)}}),[JSON.stringify(s),i,z,m,u]),r({},f,{observe:z,unobserve:m})};export{n as u};
